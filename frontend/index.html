<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Java Quiz App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –≤—Ö–æ–¥–∞ -->
    <div id="welcome" class="screen active">
        <header>
            <h1>üéØ Java Quiz App</h1>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!!!!!!</p>
        </header>

        <div class="menu">
            <button onclick="showScreen('login')" class="btn btn-primary">
                üë§ –í—Ö–æ–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            </button>
            <button onclick="showScreen('adminLogin')" class="btn btn-danger">
                üîê –í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
            </button>
            <button onclick="showScreen('register')" class="btn btn-secondary">
                üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            </button>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="login" class="screen">
        <header>
            <h1>üéØ Java Quiz App</h1>
            <p>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</p>
        </header>

        <div class="form-group">
            <label for="loginUsername">–í–≤–µ–¥–∏—Ç–µ email:</label>
            <input type="text" id="loginUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ email" class="form-input">
        </div>

        <div class="form-group">
            <label for="loginPassword">–ü–∞—Ä–æ–ª—å:</label>
            <input type="password" id="loginPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" class="form-input">
        </div>

        <button onclick="login()" class="btn btn-primary">–í–æ–π—Ç–∏</button>
        <button onclick="showScreen('register')" class="btn btn-secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button onclick="showScreen('welcome')" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div id="adminLogin" class="screen">
        <header>
            <h1>üîê Java Quiz App</h1>
            <p>–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
        </header>

        <div class="admin-warning">
            ‚ö†Ô∏è –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        </div>

        <div class="form-group">
            <label for="adminUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
            <input type="text" id="adminUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" class="form-input">
        </div>

        <div class="form-group">
            <label for="adminPassword">–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
            <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" class="form-input">
        </div>

        <button onclick="adminLogin()" class="btn btn-danger">–í–æ–π—Ç–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
        <button onclick="showScreen('welcome')" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register" class="screen">
        <header>
            <h1>üéØ Java Quiz App</h1>
            <p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</p>
        </header>

        <div class="form-group">
            <label for="regUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
            <input type="text" id="regUsername" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="form-input">
        </div>

        <div class="form-group">
            <label for="regEmail">Email:</label>
            <input type="email" id="regEmail" placeholder="–í–≤–µ–¥–∏—Ç–µ email" class="form-input">
        </div>

        <div class="form-group">
            <label for="regPassword">–ü–∞—Ä–æ–ª—å:</label>
            <input type="password" id="regPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" class="form-input">
        </div>

        <div class="form-group">
            <label for="regConfirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
            <input type="password" id="regConfirmPassword" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" class="form-input">
        </div>

        <button onclick="register()" class="btn btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        <button onclick="showScreen('welcome')" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
    </div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="mainMenu" class="screen">
        <header>
            <h1>üéØ Java Quiz App</h1>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="userGreeting">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</p>
            <button onclick="logout()" class="btn btn-danger" style="float: right; transform: scale(0.8);">
                –í—ã–π—Ç–∏
            </button>
        </header>

        <div class="menu">
            <button onclick="showScreen('generateQuiz')" class="btn btn-primary">
                üöÄ –ü—Ä–æ–π—Ç–∏ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
            </button>
            <button onclick="showScreen('savedQuizzes')" class="btn btn-secondary">
                üìö –ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤
            </button>
            <button onclick="viewDetailedResults()" class="btn btn-info">
                üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ—Å—Ç–∞
            </button>
            <button onclick="logout()" class="btn btn-danger">
                ‚ùå –í—ã—Ö–æ–¥
            </button>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div id="adminMainMenu" class="screen">
        <header>
            <h1>üîê Java Quiz App</h1>
            <p>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, <span id="adminGreeting">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>!</p>
            <button onclick="adminLogout()" class="btn btn-danger" style="float: right; transform: scale(0.8);">
                –í—ã–π—Ç–∏
            </button>
        </header>

        <div class="menu">
            <button onclick="showScreen('adminPanel')" class="btn btn-danger">
                üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
            </button>
            <button onclick="showScreen('adminQuizzes')" class="btn btn-warning">
                üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏
            </button>
            <button onclick="showScreen('adminStats')" class="btn btn-info">
                üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
            </button>
            <button onclick="switchToUserMode()" class="btn btn-secondary">
                üë§ –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            </button>
            <button onclick="exitApp()" class="btn btn-danger">
                ‚ùå –í—ã—Ö–æ–¥
            </button>
        </div>
    </div>

    <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (generateQuiz, savedQuizzes, quizRunner, quizResults, detailedResults) –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div id="generateQuiz" class="screen">
        <header>
            <h2>üìù –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</h2>
            <button onclick="goBackBasedOnRole()" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
        </header>

        <div class="form-group">
            <label for="difficulty">–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</label>
            <input type="text" id="difficulty" placeholder="Junior, Middle, Senior" class="form-input">
        </div>

        <div class="form-group">
            <label for="topics">–¢–µ–º—ã –¥–ª—è —Ç–µ—Å—Ç–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
            <input type="text" id="topics" placeholder="Java, Spring, Hibernate" class="form-input">
        </div>

        <div class="form-group">
            <label for="questionCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</label>
            <input type="number" id="questionCount" value="5" min="1" max="20" class="form-input">
        </div>

        <button onclick="generateQuiz()" class="btn btn-primary">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç</button>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ -->
    <div id="savedQuizzes" class="screen">
        <header>
            <h2>üìö –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã</h2>
            <button onclick="goBackBasedOnRole()" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
        </header>

        <div id="quizzesList" class="quizzes-container">
            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤...</div>
        </div>
    </div>

    <!-- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ -->
    <div id="quizRunner" class="screen">
        <header>
            <h2 id="quizTitle">–¢–µ—Å—Ç</h2>
            <button onclick="goBackBasedOnRole()" class="btn-back" style="float: right">–ù–∞–∑–∞–¥</button>
            <div class="quiz-progress">
                –í–æ–ø—Ä–æ—Å <span id="currentQuestion">1</span> –∏–∑ <span id="totalQuestions">0</span>
            </div>
        </header>

        <div class="question-container">
            <h3 id="questionText">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...</h3>
            <div id="optionsContainer" class="options-container"></div>
        </div>

        <div class="quiz-controls">
            <button onclick="previousQuestion()" id="prevBtn" class="btn btn-secondary" disabled>‚Üê –ù–∞–∑–∞–¥</button>
            <button onclick="nextQuestion()" id="nextBtn" class="btn btn-primary">–î–∞–ª–µ–µ ‚Üí</button>
            <button onclick="finishQuiz()" id="finishBtn" class="btn btn-success" style="display: none;">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç</button>
        </div>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ -->
    <div id="quizResults" class="screen">
        <header>
            <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞</h2>
            <button onclick="goBackBasedOnRole()" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
        </header>

        <div id="resultsContent"></div>
        <button onclick="viewDetailedResults()" class="btn btn-info">üìñ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
    </div>

    <!-- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
    <div id="detailedResults" class="screen">
        <header>
            <h2>üìñ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <button onclick="showScreen('quizResults')" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</button>
        </header>

        <div id="detailedContent"></div>
    </div>

    <!-- –ê–¥–º–∏–Ω–∫–∞ -->
    <div id="adminPanel" class="screen">
        <header>
            <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
            <button onclick="showScreen('adminMainMenu')" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å</button>
        </header>

        <div class="admin-actions">
            <button onclick="showUsers()" class="btn btn-danger">
                üìã –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            </button>
            <button onclick="showCreateUserForm()" class="btn btn-success">
                ‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            </button>
        </div>

        <div id="adminContent"></div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
    <div id="usersScreen" class="screen">
        <header>
            <h2>üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
            <button onclick="showScreen('adminPanel')" class="btn-back">‚Üê –ù–∞–∑–∞–¥</button>
        </header>

        <div class="admin-stats">
            <div class="stat-card">
                <h3>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                <span id="totalUsers">0</span>
            </div>
            <div class="stat-card">
                <h3>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</h3>
                <span id="adminUsers">0</span>
            </div>
            <div class="stat-card">
                <h3>–û–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                <span id="regularUsers">0</span>
            </div>
        </div>

        <div id="usersList" class="users-container">
            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
        </div>
    </div>

    <!-- –î—Ä—É–≥–∏–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ -->
    <div id="adminQuizzes" class="screen">
        <header>
            <h2>üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏</h2>
            <button onclick="showScreen('adminMainMenu')" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å</button>
        </header>
        <div class="admin-content">
            <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ —Ç–µ—Å—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã...</p>
        </div>
    </div>

    <div id="adminStats" class="screen">
        <header>
            <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
            <button onclick="showScreen('adminMainMenu')" class="btn-back">‚Üê –ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å</button>
        </header>
        <div class="admin-content">
            <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã...</p>
        </div>
    </div>
</div>

<script src="api.js"></script>
<script src="app.js"></script>

<div id="loadingOverlay" class="loading-overlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç...</div>
</div>

</body>
</html>